<div class="container max-w-screen-lg mx-auto">
  <h1 class="text-2xl font-bold text-center">Stripe Checkout</h1>

  <!-- Fetch the survey payment status by using async pipe -->
  <ng-container *ngIf="surveyStatusHandling$ | async as survey">
    <div *ngIf="errorMessage" class="text-warning">{{ errorMessage }}</div>

    <div *ngIf="!(errorMessage)">
      <!-- Start the stripe checkout session if survey was found and not paid -->
      <app-stripe-checkout [surveyId]="survey.surveyId"></app-stripe-checkout>
    </div>
  </ng-container>

</div>