<div class="container max-w-screen-lg mx-auto">
  <h1 class="text-2xl font-bold text-center">Stripe Checkout</h1>

  <!-- Fetch the survey payment status by using async pipe -->
  <ng-container *ngIf="surveyStatusHandling$ | async as survey">

    <!-- Start the stripe checkout session if survey was found and not paid -->
    <app-stripe-checkout *ngIf="!(errorMessage)" [surveyId]="survey.surveyId" />

  </ng-container>

  <!-- Display error message if there is any -->
  <app-display-error-message *ngIf="errorMessage" [errorMessage]="errorMessage" />

</div>